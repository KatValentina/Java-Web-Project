# Структура проекта и архитектура взаимодействия

## Структура проекта

Проект: `library-web`  
Создан для ИКМ по яп Java  

###  Основные пакеты
src/main/java/com/library  
├── controller  
│   ├── AuthorController  
│   ├── CopyController  
│   ├── HomeController  
│   └── OeuvreController  
│  
├── entity  
│   ├── Author  
│   ├── Copy  
│   └── Oeuvre  
│  
├── repository  
│   ├── AuthorRepository  
│   ├── CopyRepository  
│   └── OeuvreRepository  
│  
├── service  
│   ├── AuthorService  
│   ├── CopyService  
│   └── OeuvreService  
│  
└── LibraryMenegerApplication  

---
## Взаимосвязь компонентов

Архитектура построена по принципу **MVC + Service Layer + Repository Layer**.

### 1.  Главный класс
- `LibraryMenegerApplication` — точка входа в приложение.
- Запускает Spring Boot и инициализирует все компоненты.

### 2.  Контроллеры (`controller`)
- Отвечают за обработку HTTP‑запросов.
- Получают данные от пользователя и передают их в сервисы.
- Возвращают HTML‑страницы с данными (через `Model`).

### 3. Сервисы (`service`)
- Содержат бизнес‑логику приложения.
- Получают данные от контроллеров.
- Делают проверки, преобразования, вызывают репозитории.

### 4. Репозитории (`repository`)
- Работают напрямую с базой данных.
- Используют Spring Data JPA (`JpaRepository`).
- Предоставляют CRUD‑операции и дополнительные методы (например, `existsByInventoryNumber`).

### 5. Сущности (`entity`)
- Представляют таблицы в базе данных.
- Аннотированы `@Entity`, `@Table`, `@Column` и т.д.
- Используются в сервисах, контроллерах и репозиториях.

---

## Последовательность обработки запроса

Пример: пользователь хочет создать нового автора.

1. **Контроллер** (`AuthorController`) получает POST‑запрос с формой.
2. Передаёт объект `Author` в **сервис** (`AuthorService`).
3. Сервис вызывает метод `saveAuthor()` → обращается к **репозиторию** (`AuthorRepository`).
4. Репозиторий сохраняет автора в базу.
5. Сервис возвращает результат контроллеру.
6. Контроллер делает редирект или показывает сообщение.

---


